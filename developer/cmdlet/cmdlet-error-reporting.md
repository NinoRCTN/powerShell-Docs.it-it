---
title: Segnalazione errori cmdlet | Microsoft Docs
ms.custom: ''
ms.date: 09/13/2016
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- error records [PowerShell], terminating
- non-terminating errors [PowerShell]
- error records [PowerShell]
- terminating errors [PowerShell]
- error records [PowerShell], non-terminating
ms.assetid: 0b014035-52ea-44cb-ab38-bbe463c5465a
caps.latest.revision: 8
ms.openlocfilehash: 5dfec318438ca139518c596011ac5e56445738ea
ms.sourcegitcommit: 5a004064f33acc0145ccd414535763e95f998c89
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/23/2019
ms.locfileid: "69986325"
---
# <a name="cmdlet-error-reporting"></a><span data-ttu-id="b637e-102">Segnalazione errori cmdlet</span><span class="sxs-lookup"><span data-stu-id="b637e-102">Cmdlet error reporting</span></span>

<span data-ttu-id="b637e-103">I cmdlet dovrebbero segnalare errori in modo diverso a seconda che gli errori interrompano errori o errori non fatali.</span><span class="sxs-lookup"><span data-stu-id="b637e-103">Cmdlets should report errors differently depending on whether the errors are terminating errors or nonterminating errors.</span></span> <span data-ttu-id="b637e-104">Gli errori di terminazione sono errori che causano la terminazione immediata della pipeline o errori che si verificano quando non è necessario continuare l'elaborazione.</span><span class="sxs-lookup"><span data-stu-id="b637e-104">Terminating errors are errors that cause the pipeline to be terminated immediately, or errors that occur when there's no reason to continue processing.</span></span> <span data-ttu-id="b637e-105">Gli errori che non terminano sono gli errori che segnalano una condizione di errore corrente, ma il cmdlet può continuare a elaborare gli oggetti di input.</span><span class="sxs-lookup"><span data-stu-id="b637e-105">Nonterminating errors are those errors that report a current error condition, but the cmdlet can continue to process input objects.</span></span> <span data-ttu-id="b637e-106">Con gli errori non fatali, l'utente viene in genere notificato al problema, ma il cmdlet continua a elaborare l'oggetto di input successivo.</span><span class="sxs-lookup"><span data-stu-id="b637e-106">With nonterminating errors, the user is typically notified of the problem, but the cmdlet continues to process the next input object.</span></span>

## <a name="terminating-and-nonterminating-errors"></a><span data-ttu-id="b637e-107">Errori di terminazione e non fatale</span><span class="sxs-lookup"><span data-stu-id="b637e-107">Terminating and nonterminating errors</span></span>

<span data-ttu-id="b637e-108">Le linee guida seguenti possono essere utilizzate per determinare se una condizione di errore è un errore di terminazione o un errore non fatale.</span><span class="sxs-lookup"><span data-stu-id="b637e-108">The following guidelines can be used to determine if an error condition is a terminating error or a nonterminating error.</span></span>

- <span data-ttu-id="b637e-109">La condizione di errore impedisce al cmdlet di elaborare correttamente altri oggetti di input?</span><span class="sxs-lookup"><span data-stu-id="b637e-109">Does the error condition prevent your cmdlet from successfully processing any further input objects?</span></span> <span data-ttu-id="b637e-110">In caso affermativo, si tratta di un errore fatale.</span><span class="sxs-lookup"><span data-stu-id="b637e-110">If so, this is a terminating error.</span></span>

- <span data-ttu-id="b637e-111">Condizione di errore correlata a un oggetto di input specifico o a un subset di oggetti di input.</span><span class="sxs-lookup"><span data-stu-id="b637e-111">Is the error condition related to a specific input object or a subset of input objects?</span></span> <span data-ttu-id="b637e-112">In caso affermativo, si tratta di un errore non fatale.</span><span class="sxs-lookup"><span data-stu-id="b637e-112">If so, this is a nonterminating error.</span></span>

- <span data-ttu-id="b637e-113">Il cmdlet accetta più oggetti di input, in modo che l'elaborazione possa avere esito positivo su un altro oggetto di input?</span><span class="sxs-lookup"><span data-stu-id="b637e-113">Does the cmdlet accept multiple input objects, such that processing may succeed on another input object?</span></span> <span data-ttu-id="b637e-114">In caso affermativo, si tratta di un errore non fatale.</span><span class="sxs-lookup"><span data-stu-id="b637e-114">If so, this is a nonterminating error.</span></span>

- <span data-ttu-id="b637e-115">I cmdlet che possono accettare più oggetti di input devono decidere tra gli errori fatali e non fatali, anche quando una particolare situazione si applica solo a un singolo oggetto di input.</span><span class="sxs-lookup"><span data-stu-id="b637e-115">Cmdlets that can accept multiple input objects should decide between what are terminating and nonterminating errors, even when a particular situation applies to only a single input object.</span></span>

- <span data-ttu-id="b637e-116">I cmdlet possono ricevere un numero qualsiasi di oggetti di input e inviare un numero qualsiasi di oggetti Success o Error prima di generare un'eccezione di terminazione.</span><span class="sxs-lookup"><span data-stu-id="b637e-116">Cmdlets can receive any number of input objects and send any number of success or error objects before throwing a terminating exception.</span></span> <span data-ttu-id="b637e-117">Non esiste alcuna relazione tra il numero di oggetti di input ricevuti e il numero di oggetti Success e Error inviati.</span><span class="sxs-lookup"><span data-stu-id="b637e-117">There's no relationship between the number of input objects received and the number of success and error objects sent.</span></span>

- <span data-ttu-id="b637e-118">I cmdlet che accettano solo oggetti di input 0-1 e generano solo 0-1 oggetti di output devono considerare gli errori come errori di terminazione e generare eccezioni di terminazione.</span><span class="sxs-lookup"><span data-stu-id="b637e-118">Cmdlets that can accept only 0-1 input objects and generate only 0-1 output objects should treat errors as terminating errors and generate terminating exceptions.</span></span>

## <a name="reporting-nonterminating-errors"></a><span data-ttu-id="b637e-119">Segnalazione di errori non fatali</span><span class="sxs-lookup"><span data-stu-id="b637e-119">Reporting nonterminating errors</span></span>

<span data-ttu-id="b637e-120">La creazione di report di un errore non fatale dovrebbe essere sempre eseguita nell'implementazione del cmdlet del metodo [System. Management. Automation. cmdlet. BeginProcessing](/dotnet/api/System.Management.Automation.Cmdlet.BeginProcessing) , il metodo [System. Management. Automation. cmdlet. ProcessRecord](/dotnet/api/System.Management.Automation.Cmdlet.ProcessRecord) o metodo [System. Management. Automation. cmdlet. EndProcessing](/dotnet/api/System.Management.Automation.Cmdlet.EndProcessing) .</span><span class="sxs-lookup"><span data-stu-id="b637e-120">The reporting of a nonterminating error should always be done within the cmdlet's implementation of the [System.Management.Automation.Cmdlet.BeginProcessing](/dotnet/api/System.Management.Automation.Cmdlet.BeginProcessing) method, the [System.Management.Automation.Cmdlet.ProcessRecord](/dotnet/api/System.Management.Automation.Cmdlet.ProcessRecord) method, or the [System.Management.Automation.Cmdlet.EndProcessing](/dotnet/api/System.Management.Automation.Cmdlet.EndProcessing) method.</span></span> <span data-ttu-id="b637e-121">Questi tipi di errori vengono segnalati chiamando il metodo [System. Management. Automation. cmdlet. WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) che a sua volta invia un record di errore al flusso di errore.</span><span class="sxs-lookup"><span data-stu-id="b637e-121">These types of errors are reported by calling the [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) method that in turn sends an error record to the error stream.</span></span>

## <a name="reporting-terminating-errors"></a><span data-ttu-id="b637e-122">Segnalazione degli errori di terminazione</span><span class="sxs-lookup"><span data-stu-id="b637e-122">Reporting terminating errors</span></span>

<span data-ttu-id="b637e-123">Gli errori di terminazione vengono segnalati generando eccezioni oppure chiamando il metodo [System. Management. Automation. cmdlet. ThrowTerminatingError](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) .</span><span class="sxs-lookup"><span data-stu-id="b637e-123">Terminating errors are reported by throwing exceptions or by calling the [System.Management.Automation.Cmdlet.ThrowTerminatingError](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) method.</span></span> <span data-ttu-id="b637e-124">Tenere presente che i cmdlet possono anche intercettare e rigenerare eccezioni, ad esempio **OutOfMemory**, ma non sono necessarie per rigenerare le eccezioni perché il runtime di PowerShell li rileverà.</span><span class="sxs-lookup"><span data-stu-id="b637e-124">Be aware that cmdlets can also catch and rethrow exceptions such as **OutOfMemory**, however, they aren't required to rethrow exceptions as the PowerShell runtime will catch them as well.</span></span>

<span data-ttu-id="b637e-125">È anche possibile definire eccezioni personalizzate per i problemi specifici della situazione o aggiungere informazioni aggiuntive a un'eccezione esistente usando il relativo record di errore.</span><span class="sxs-lookup"><span data-stu-id="b637e-125">You can also define your own exceptions for issues specific to your situation, or add additional information to an existing exception using its error record.</span></span>

## <a name="error-records"></a><span data-ttu-id="b637e-126">Record degli errori</span><span class="sxs-lookup"><span data-stu-id="b637e-126">Error records</span></span>

<span data-ttu-id="b637e-127">PowerShell descrive una condizione di errore non fatale con gli oggetti [System. Management. Automation. ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) .</span><span class="sxs-lookup"><span data-stu-id="b637e-127">PowerShell describes a nonterminating error condition with [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) objects.</span></span> <span data-ttu-id="b637e-128">Ogni oggetto fornisce informazioni sulla categoria di errore, un oggetto di destinazione facoltativo e informazioni dettagliate sulla condizione di errore.</span><span class="sxs-lookup"><span data-stu-id="b637e-128">Each object provides error category information, an optional target object, and details about the error condition.</span></span>

### <a name="error-identifiers"></a><span data-ttu-id="b637e-129">Identificatori di errore</span><span class="sxs-lookup"><span data-stu-id="b637e-129">Error identifiers</span></span>

<span data-ttu-id="b637e-130">L'identificatore di errore è una stringa semplice che identifica la condizione di errore nel cmdlet.</span><span class="sxs-lookup"><span data-stu-id="b637e-130">The error identifier is a simple string that identifies the error condition within the cmdlet.</span></span>
<span data-ttu-id="b637e-131">PowerShell combina questo identificatore con un identificatore di cmdlet per creare un identificatore di errore completo che può essere usato in un secondo momento durante il filtraggio dei flussi di errore o la registrazione degli errori, quando risponde a errori specifici o con altre attività specifiche dell'utente.</span><span class="sxs-lookup"><span data-stu-id="b637e-131">PowerShell combines this identifier with a cmdlet identifier to create a fully qualified error identifier that can be used later when filtering error streams or logging errors, when responding to specific errors, or with other user-specific activities.</span></span>

<span data-ttu-id="b637e-132">Quando si specificano gli identificatori di errore, è necessario attenersi alle linee guida seguenti:</span><span class="sxs-lookup"><span data-stu-id="b637e-132">The following guidelines should be followed when specifying error identifiers:</span></span>

- <span data-ttu-id="b637e-133">Assegnare identificatori di errore diversi, altamente specifici, a percorsi di codice diversi.</span><span class="sxs-lookup"><span data-stu-id="b637e-133">Assign different, highly specific, error identifiers to different code paths.</span></span> <span data-ttu-id="b637e-134">Ogni percorso di codice che chiama [System. Management. Automation. cmdlet. WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) o [System. Management. Automation. cmdlet. ThrowTerminatingError](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) deve avere un identificatore di errore proprio.</span><span class="sxs-lookup"><span data-stu-id="b637e-134">Each code path that calls [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) or [System.Management.Automation.Cmdlet.ThrowTerminatingError](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) should have its own error identifier.</span></span>

- <span data-ttu-id="b637e-135">Gli identificatori di errore devono essere univoci per i tipi di eccezione CLR (Common Language Runtime) per gli errori di terminazione e non fatale.</span><span class="sxs-lookup"><span data-stu-id="b637e-135">Error identifiers should be unique to Common Language Runtime (CLR) exception types for both terminating and nonterminating errors.</span></span>

- <span data-ttu-id="b637e-136">Non modificare la semantica di un identificatore errore tra le versioni del cmdlet o del provider PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b637e-136">Don't change the semantics of an error identifier between versions of your cmdlet or PowerShell provider.</span></span> <span data-ttu-id="b637e-137">Una volta stabilita la semantica di un identificatore di errore, deve rimanere costante per tutto il ciclo di vita del cmdlet.</span><span class="sxs-lookup"><span data-stu-id="b637e-137">After the semantics of an error identifier is established, it should remain constant throughout the lifecycle of your cmdlet.</span></span>

- <span data-ttu-id="b637e-138">Per gli errori di terminazione, utilizzare un identificatore di errore univoco per un particolare tipo di eccezione CLR.</span><span class="sxs-lookup"><span data-stu-id="b637e-138">For terminating errors, use a unique error identifier for a particular CLR exception type.</span></span> <span data-ttu-id="b637e-139">Se il tipo di eccezione cambia, utilizzare un nuovo identificatore di errore.</span><span class="sxs-lookup"><span data-stu-id="b637e-139">If the exception type changes, use a new error identifier.</span></span>

- <span data-ttu-id="b637e-140">Per gli errori non fatali, usare un identificatore di errore specifico per un oggetto di input specifico.</span><span class="sxs-lookup"><span data-stu-id="b637e-140">For nonterminating errors, use a specific error identifier for a specific input object.</span></span>

- <span data-ttu-id="b637e-141">Scegliere il testo per l'identificatore che laconicamente corrisponde all'errore segnalato.</span><span class="sxs-lookup"><span data-stu-id="b637e-141">Choose text for the identifier that tersely corresponds to the error being reported.</span></span> <span data-ttu-id="b637e-142">Non usare spazi vuoti o segni di punteggiatura.</span><span class="sxs-lookup"><span data-stu-id="b637e-142">Don't use white space or punctuation.</span></span>

- <span data-ttu-id="b637e-143">Non generare identificatori di errore non riproducibili.</span><span class="sxs-lookup"><span data-stu-id="b637e-143">Don't generate error identifiers that aren't reproducible.</span></span> <span data-ttu-id="b637e-144">Ad esempio, non generare identificatori che includono un identificatore di processo.</span><span class="sxs-lookup"><span data-stu-id="b637e-144">For example, don't generate identifiers that include a process identifier.</span></span> <span data-ttu-id="b637e-145">Gli identificatori di errore sono utili solo quando corrispondono agli identificatori visualizzati da altri utenti che hanno riscontrato lo stesso problema.</span><span class="sxs-lookup"><span data-stu-id="b637e-145">Error identifiers are useful only when they correspond to identifiers that are seen by other users who are experiencing the same problem.</span></span>

### <a name="error-categories"></a><span data-ttu-id="b637e-146">Categorie di errore</span><span class="sxs-lookup"><span data-stu-id="b637e-146">Error categories</span></span>

<span data-ttu-id="b637e-147">Le categorie di errore vengono utilizzate per raggruppare gli errori dell'utente.</span><span class="sxs-lookup"><span data-stu-id="b637e-147">Error categories are used to group errors for the user.</span></span> <span data-ttu-id="b637e-148">PowerShell definisce queste categorie e i cmdlet e i provider PowerShell devono scegliere tra di essi quando generano il record di errore.</span><span class="sxs-lookup"><span data-stu-id="b637e-148">PowerShell defines these categories and cmdlets and PowerShell providers must choose between them when generating the error record.</span></span>

<span data-ttu-id="b637e-149">Per una descrizione delle categorie di errore disponibili, vedere l'enumerazione [System. Management. Automation. ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory) .</span><span class="sxs-lookup"><span data-stu-id="b637e-149">For a description of the error categories that are available, see the [System.Management.Automation.ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory) enumeration.</span></span> <span data-ttu-id="b637e-150">In generale, è consigliabile evitare diusare NOERROR, **UndefinedError**e **errore generico** quando possibile.</span><span class="sxs-lookup"><span data-stu-id="b637e-150">In general, you should avoid using **NoError**, **UndefinedError**, and **GenericError** whenever possible.</span></span>

<span data-ttu-id="b637e-151">Gli utenti possono visualizzare gli errori in base alla categoria `$ErrorView` quando sono impostati su **CategoryView**.</span><span class="sxs-lookup"><span data-stu-id="b637e-151">Users can view errors based on category when they set `$ErrorView` to **CategoryView**.</span></span>

## <a name="see-also"></a><span data-ttu-id="b637e-152">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="b637e-152">See also</span></span>

[<span data-ttu-id="b637e-153">Panoramica sui cmdlet</span><span class="sxs-lookup"><span data-stu-id="b637e-153">Cmdlet Overview</span></span>](./cmdlet-overview.md)

[<span data-ttu-id="b637e-154">Tipi di output del cmdlet</span><span class="sxs-lookup"><span data-stu-id="b637e-154">Types of Cmdlet Output</span></span>](./types-of-cmdlet-output.md)

<span data-ttu-id="b637e-155">[Windows PowerShell Reference](../windows-powershell-reference.md) (Guida di riferimento di PowerShell)</span><span class="sxs-lookup"><span data-stu-id="b637e-155">[Windows PowerShell Reference](../windows-powershell-reference.md)</span></span>
