---
title: La funzionalità di segnalazione degli errori dei cmdlet | Microsoft Docs
ms.custom: ''
ms.date: 09/13/2016
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- error records [PowerShell], terminating
- non-terminating errors [PowerShell]
- error records [PowerShell]
- terminating errors [PowerShell]
- error records [PowerShell], non-terminating
ms.assetid: 0b014035-52ea-44cb-ab38-bbe463c5465a
caps.latest.revision: 8
ms.openlocfilehash: 45f5934314a2871ceb921c7a66b9dfb658d0bd99
ms.sourcegitcommit: e7445ba8203da304286c591ff513900ad1c244a4
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/23/2019
ms.locfileid: "62068590"
---
# <a name="cmdlet-error-reporting"></a><span data-ttu-id="a5a60-102">Segnalazione di errori dei cmdlet</span><span class="sxs-lookup"><span data-stu-id="a5a60-102">Cmdlet Error Reporting</span></span>

<span data-ttu-id="a5a60-103">I cmdlet dovrebbero segnalare gli errori in modo diverso a seconda del fatto che gli errori sono irreversibili o errori non fatali.</span><span class="sxs-lookup"><span data-stu-id="a5a60-103">Cmdlets should report errors differently depending on whether the errors are terminating errors or nonterminating errors.</span></span> <span data-ttu-id="a5a60-104">Gli errori sono errori che causano la pipeline a essere terminata immediatamente o errori che si verificano quando non c'è nessun motivo per continuare l'elaborazione.</span><span class="sxs-lookup"><span data-stu-id="a5a60-104">Terminating errors are errors that cause the pipeline to be terminated immediately, or errors that occur when there is no reason to continue processing.</span></span> <span data-ttu-id="a5a60-105">Errori non fatali sono gli errori che segnalano una condizione di errore corrente, ma il cmdlet può continuare a elaborare gli oggetti di input.</span><span class="sxs-lookup"><span data-stu-id="a5a60-105">Nonterminating errors are those errors that report a current error condition, but the cmdlet can continue to process input objects.</span></span> <span data-ttu-id="a5a60-106">Con errori non fatali, in genere l'utente viene notificato il problema, ma il cmdlet continua a elaborare l'oggetto di input successivo.</span><span class="sxs-lookup"><span data-stu-id="a5a60-106">With nonterminating errors, the user is typically notified of the problem, but the cmdlet continues to process the next input object.</span></span>

## <a name="terminating-and-nonterminating-errors"></a><span data-ttu-id="a5a60-107">Errori non fatali e terminazione</span><span class="sxs-lookup"><span data-stu-id="a5a60-107">Terminating and Nonterminating Errors</span></span>

<span data-ttu-id="a5a60-108">Le linee guida seguenti sono utilizzabile per determinare se una condizione di errore è un errore o un errore non fatali.</span><span class="sxs-lookup"><span data-stu-id="a5a60-108">The following guidelines can be used to determine if an error condition is a terminating error or a nonterminating error.</span></span>

- <span data-ttu-id="a5a60-109">La condizione di errore impedisce il cmdlet correttamente l'elaborazione degli oggetti di input ulteriormente?</span><span class="sxs-lookup"><span data-stu-id="a5a60-109">Does the error condition prevent your cmdlet from successfully processing any further input objects?</span></span> <span data-ttu-id="a5a60-110">In questo caso, si tratta di un errore irreversibile.</span><span class="sxs-lookup"><span data-stu-id="a5a60-110">If so, this is a terminating error.</span></span>

- <span data-ttu-id="a5a60-111">La condizione di errore è correlata a un oggetto di input specifico o un subset di oggetti di input?</span><span class="sxs-lookup"><span data-stu-id="a5a60-111">Is the error condition related to a specific input object or a subset of input objects?</span></span> <span data-ttu-id="a5a60-112">In questo caso, si tratta di un errore non fatali.</span><span class="sxs-lookup"><span data-stu-id="a5a60-112">If so, this is a nonterminating error.</span></span>

- <span data-ttu-id="a5a60-113">Il cmdlet accetta più oggetti di input, ad esempio che l'elaborazione potrebbe avere esito positivo su un altro oggetto di input?</span><span class="sxs-lookup"><span data-stu-id="a5a60-113">Does the cmdlet accept multiple input objects, such that processing may succeed on another input object?</span></span> <span data-ttu-id="a5a60-114">In questo caso, si tratta di un errore non fatali.</span><span class="sxs-lookup"><span data-stu-id="a5a60-114">If so, this is a nonterminating error.</span></span>

- <span data-ttu-id="a5a60-115">I cmdlet che possono accettare più oggetti di input devono decidere tra ciò che rappresenta l'ultima e gli errori non fatali, anche quando una determinata situazione si applica a un singolo oggetto di input.</span><span class="sxs-lookup"><span data-stu-id="a5a60-115">Cmdlets that can accept multiple input objects should decide between what are terminating and nonterminating errors, even when a particular situation applies to only a single input object.</span></span>

- <span data-ttu-id="a5a60-116">I cmdlet possono ricevere un numero qualsiasi di oggetti di input e inviare un numero qualsiasi di oggetti di esito positivo o errore prima che venga generata un'eccezione di terminazione.</span><span class="sxs-lookup"><span data-stu-id="a5a60-116">Cmdlets can receive any number of input objects and send any number of success or error objects before throwing a terminating exception.</span></span> <span data-ttu-id="a5a60-117">Non c'è alcuna relazione tra il numero di oggetti di input ricevuti e il numero di oggetti di esito positivo e negativo inviati.</span><span class="sxs-lookup"><span data-stu-id="a5a60-117">There is no relationship between the number of input objects received and the number of success and error objects sent.</span></span>

- <span data-ttu-id="a5a60-118">I cmdlet che possono accettare solo 0 e 1 gli oggetti di input e generare solo 0-1 output oggetti devono considerare gli errori come gli errori irreversibili e generare eccezioni di terminazione.</span><span class="sxs-lookup"><span data-stu-id="a5a60-118">Cmdlets that can accept only 0-1 input objects and generate only 0-1 output objects should treat errors as terminating errors and generate terminating exceptions.</span></span>

## <a name="reporting-nonterminating-errors"></a><span data-ttu-id="a5a60-119">Segnalazione di errori non fatali</span><span class="sxs-lookup"><span data-stu-id="a5a60-119">Reporting Nonterminating Errors</span></span>

<span data-ttu-id="a5a60-120">La segnalazione di un errore non fatali deve sempre essere eseguita all'interno di implementazione del cmdlet del [System.Management.Automation.Cmdlet.BeginProcessing](/dotnet/api/System.Management.Automation.Cmdlet.BeginProcessing) metodo, il [ System.Management.Automation.Cmdlet.ProcessRecord](/dotnet/api/System.Management.Automation.Cmdlet.ProcessRecord) metodo, o il [System.Management.Automation.Cmdlet.EndProcessing](/dotnet/api/System.Management.Automation.Cmdlet.EndProcessing) (metodo).</span><span class="sxs-lookup"><span data-stu-id="a5a60-120">The reporting of a nonterminating error should always be done within the cmdlet's implementation of the [System.Management.Automation.Cmdlet.BeginProcessing](/dotnet/api/System.Management.Automation.Cmdlet.BeginProcessing) method, the [System.Management.Automation.Cmdlet.ProcessRecord](/dotnet/api/System.Management.Automation.Cmdlet.ProcessRecord) method, or the [System.Management.Automation.Cmdlet.EndProcessing](/dotnet/api/System.Management.Automation.Cmdlet.EndProcessing) method.</span></span> <span data-ttu-id="a5a60-121">Questi tipi di errori vengono segnalati tramite la chiamata di [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) metodo che a sua volta invia un record di errore nel flusso di errori.</span><span class="sxs-lookup"><span data-stu-id="a5a60-121">These types of errors are reported by calling the [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) method that in turn sends an error record to the error stream.</span></span>

## <a name="reporting-terminating-errors"></a><span data-ttu-id="a5a60-122">Segnalazione di errori di terminazione</span><span class="sxs-lookup"><span data-stu-id="a5a60-122">Reporting Terminating Errors</span></span>

<span data-ttu-id="a5a60-123">Gli errori vengono segnalati mediante la generazione di eccezioni o chiamando il [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) (metodo).</span><span class="sxs-lookup"><span data-stu-id="a5a60-123">Terminating errors are reported by throwing exceptions or by calling the [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) method.</span></span> <span data-ttu-id="a5a60-124">Tenere presente che i cmdlet possono inoltre rilevare e generare nuovamente le eccezioni, ad esempio OutOfMemory, tuttavia, che non sono necessari per generare nuovamente le eccezioni come il runtime di Windows PowerShell li rileverà anche.</span><span class="sxs-lookup"><span data-stu-id="a5a60-124">Be aware that cmdlets can also catch and re-throw exceptions such as OutOfMemory, however, they are not required to re-throw exceptions as the Windows PowerShell runtime will catch them as well.</span></span>

<span data-ttu-id="a5a60-125">È anche possibile definire eccezioni personalizzate per i problemi specifici alla propria situazione, o aggiungere ulteriori informazioni su un'eccezione esistente tramite il relativo record di errore.</span><span class="sxs-lookup"><span data-stu-id="a5a60-125">You can also define your own exceptions for issues specific to your situation, or add additional information to an existing exception using its error record.</span></span>

## <a name="error-records"></a><span data-ttu-id="a5a60-126">Record degli errori</span><span class="sxs-lookup"><span data-stu-id="a5a60-126">Error Records</span></span>

<span data-ttu-id="a5a60-127">Windows PowerShell descrive una condizione di errore non fatali tramite l'uso di [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) oggetti.</span><span class="sxs-lookup"><span data-stu-id="a5a60-127">Windows PowerShell describes a nonterminating error condition through the use of [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) objects.</span></span> <span data-ttu-id="a5a60-128">Ciascuna [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) oggetto fornisce le informazioni sulle categorie di errore, un oggetto di destinazione facoltativo e dettagli sulla condizione di errore.</span><span class="sxs-lookup"><span data-stu-id="a5a60-128">Each [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) object provides error category information, an optional target object, and details about the error condition.</span></span>

### <a name="error-identifiers"></a><span data-ttu-id="a5a60-129">Identificatori degli errori</span><span class="sxs-lookup"><span data-stu-id="a5a60-129">Error Identifiers</span></span>

<span data-ttu-id="a5a60-130">Identificatore dell'errore è una semplice stringa che identifica la condizione di errore all'interno di cmdlet.</span><span class="sxs-lookup"><span data-stu-id="a5a60-130">The error identifier is a simple string that identifies the error condition within the cmdlet.</span></span> <span data-ttu-id="a5a60-131">Windows PowerShell combina questo identificatore con un identificatore di cmdlet per creare un identificatore di errore completo che può essere utilizzato in un secondo momento, quando si filtrano i flussi di errore o la registrazione errori, quando si risponde a errori specifici o con altre attività specifiche dell'utente.</span><span class="sxs-lookup"><span data-stu-id="a5a60-131">Windows PowerShell combines this identifier with a cmdlet identifier to create a fully qualified error identifier that can be used later when filtering error streams or logging errors, when responding to specific errors, or with other user-specific activities.</span></span>

<span data-ttu-id="a5a60-132">Le seguenti linee guida da seguire quando si specificano gli identificatori degli errori.</span><span class="sxs-lookup"><span data-stu-id="a5a60-132">The following guidelines should be followed when specifying error identifiers.</span></span>

- <span data-ttu-id="a5a60-133">Assegnare gli identificatori di errore diversi, estremamente specifici, ai percorsi del codice diversi.</span><span class="sxs-lookup"><span data-stu-id="a5a60-133">Assign different, highly specific, error identifiers to different code paths.</span></span> <span data-ttu-id="a5a60-134">Ogni percorso di codice che chiama [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) oppure [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) deve avere un proprio identificatore dell'errore.</span><span class="sxs-lookup"><span data-stu-id="a5a60-134">Each code path that calls [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) or [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) should have its own error identifier.</span></span>

- <span data-ttu-id="a5a60-135">Gli identificatori degli errori deve essere univoci a tipi di eccezione CLR per errori sia irreversibili che non fatali.</span><span class="sxs-lookup"><span data-stu-id="a5a60-135">Error identifiers should be unique to CLR exception types for both terminating and nonterminating errors.</span></span>

- <span data-ttu-id="a5a60-136">Non modificare la semantica di un identificatore di errore tra le versioni del cmdlet o del provider di Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="a5a60-136">Do not change the semantics of an error identifier between versions of your cmdlet or Windows PowerShell provider.</span></span> <span data-ttu-id="a5a60-137">Dopo aver stabilita la semantica di un identificatore di errore, dovrebbero rimanere costante durante il ciclo di vita del cmdlet.</span><span class="sxs-lookup"><span data-stu-id="a5a60-137">After the semantics of an error identifier is established, it should remain constant throughout the life cycle of your cmdlet.</span></span>

- <span data-ttu-id="a5a60-138">Per gli errori irreversibili, usare un identificatore univoco di errore per un particolare tipo di eccezione CLR.</span><span class="sxs-lookup"><span data-stu-id="a5a60-138">For terminating errors, use a unique error identifier for a particular CLR exception type.</span></span> <span data-ttu-id="a5a60-139">Se viene modificato il tipo di eccezione, usare un nuovo identificatore di errore.</span><span class="sxs-lookup"><span data-stu-id="a5a60-139">If the exception type changes, use a new error identifier.</span></span>

- <span data-ttu-id="a5a60-140">Per gli errori non fatali, usare un identificatore di errore specifico per un oggetto di input specifico.</span><span class="sxs-lookup"><span data-stu-id="a5a60-140">For nonterminating errors, use a specific error identifier for a specific input object.</span></span>

- <span data-ttu-id="a5a60-141">Scegliere il testo per l'identificatore che fornisce risposte superficiali corrispondente all'errore segnalato.</span><span class="sxs-lookup"><span data-stu-id="a5a60-141">Choose text for the identifier that tersely corresponds to the error being reported.</span></span> <span data-ttu-id="a5a60-142">Non usare spazi vuoti o punteggiatura.</span><span class="sxs-lookup"><span data-stu-id="a5a60-142">Do not use white space or punctuation.</span></span>

- <span data-ttu-id="a5a60-143">Non generare identificatori errori non riproducibili.</span><span class="sxs-lookup"><span data-stu-id="a5a60-143">Do not generate error identifiers that are not reproducible.</span></span> <span data-ttu-id="a5a60-144">Ad esempio, non generano gli identificatori che includono un identificatore di processo.</span><span class="sxs-lookup"><span data-stu-id="a5a60-144">For example, do not generate identifiers that include a process identifier.</span></span> <span data-ttu-id="a5a60-145">Gli identificatori di errore sono utili solo se corrispondono agli identificatori visualizzate da altri utenti a cui vengono riscontrato il problema stesso.</span><span class="sxs-lookup"><span data-stu-id="a5a60-145">Error identifiers are useful only when they correspond to identifiers that are seen by other users who are experiencing the same problem.</span></span>

### <a name="error-categories"></a><span data-ttu-id="a5a60-146">Categorie di errore</span><span class="sxs-lookup"><span data-stu-id="a5a60-146">Error Categories</span></span>

<span data-ttu-id="a5a60-147">Categorie di errore vengono utilizzate per raggruppare gli errori per l'utente finale.</span><span class="sxs-lookup"><span data-stu-id="a5a60-147">Error categories are used to group errors for the end-user.</span></span> <span data-ttu-id="a5a60-148">Windows PowerShell consente di definire queste categorie e i cmdlet e provider Windows PowerShell deve scegliere tra di essi durante la generazione di record error.</span><span class="sxs-lookup"><span data-stu-id="a5a60-148">Windows PowerShell defines these categories and cmdlets and Windows PowerShell providers must choose between them when generating the error record.</span></span>

<span data-ttu-id="a5a60-149">Per una descrizione delle categorie di errore che sono disponibili, vedere la [System.Management.Automation.Errorcategory](/dotnet/api/System.Management.Automation.ErrorCategory) enumerazione.</span><span class="sxs-lookup"><span data-stu-id="a5a60-149">For a description of the error categories that are available, see the [System.Management.Automation.Errorcategory](/dotnet/api/System.Management.Automation.ErrorCategory) enumeration.</span></span> <span data-ttu-id="a5a60-150">In generale, è consigliabile non utilizzare NoError UndefinedError e errore generico quando possibile.</span><span class="sxs-lookup"><span data-stu-id="a5a60-150">In general, you should avoid using NoError, UndefinedError, and GenericError whenever possible.</span></span>

<span data-ttu-id="a5a60-151">Gli utenti possono visualizzare gli errori in base alla categoria durante l'impostazione "`$ErrorView`" a "CategoryView".</span><span class="sxs-lookup"><span data-stu-id="a5a60-151">Users can view errors based on category when they set "`$ErrorView`" to "CategoryView".</span></span>

## <a name="see-also"></a><span data-ttu-id="a5a60-152">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="a5a60-152">See Also</span></span>

[<span data-ttu-id="a5a60-153">Cmdlet di Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="a5a60-153">Windows PowerShell Cmdlets</span></span>](./cmdlet-overview.md)

[<span data-ttu-id="a5a60-154">Output del cmdlet</span><span class="sxs-lookup"><span data-stu-id="a5a60-154">Cmdlet Output</span></span>](./types-of-cmdlet-output.md)

[<span data-ttu-id="a5a60-155">Windows PowerShell Shell SDK</span><span class="sxs-lookup"><span data-stu-id="a5a60-155">Windows PowerShell Shell SDK</span></span>](../windows-powershell-reference.md)
